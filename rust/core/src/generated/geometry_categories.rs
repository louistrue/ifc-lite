// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at https://mozilla.org/MPL/2.0/.

//! Auto-generated Geometry Category Classification
//!
//! Generated from EXPRESS schema: IFC4X3_DEV_923b0514
//!
//! DO NOT EDIT - This file is auto-generated by @ifc-lite/codegen

use super::schema::IfcType;

/// Geometry representation categories
#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
pub enum GeometryCategory {
    /// Swept solids (extrusions, revolutions)
    SweptSolid,
    /// Boolean/CSG operations
    Boolean,
    /// Explicit mesh representations
    ExplicitMesh,
    /// Mapped/instanced geometry
    MappedItem,
    /// Surface models
    Surface,
    /// Curve geometry
    Curve,
    /// Other geometry types
    Other,
}

/// Profile definition categories
#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
pub enum ProfileCategory {
    /// Parametric profiles (rectangle, circle, I-shape, etc.)
    Parametric,
    /// Arbitrary closed profiles
    Arbitrary,
    /// Composite profiles
    Composite,
}

impl IfcType {
    /// Get geometry category for this type
    pub fn geometry_category(&self) -> Option<GeometryCategory> {
        match self {
            // Swept solids
            Self::IfcExtrudedAreaSolid => Some(GeometryCategory::SweptSolid),
            Self::IfcExtrudedAreaSolidTapered => Some(GeometryCategory::SweptSolid),
            Self::IfcRevolvedAreaSolid => Some(GeometryCategory::SweptSolid),
            Self::IfcRevolvedAreaSolidTapered => Some(GeometryCategory::SweptSolid),
            Self::IfcSurfaceCurveSweptAreaSolid => Some(GeometryCategory::SweptSolid),
            Self::IfcFixedReferenceSweptAreaSolid => Some(GeometryCategory::SweptSolid),
            Self::IfcSweptDiskSolid => Some(GeometryCategory::SweptSolid),
            Self::IfcSweptDiskSolidPolygonal => Some(GeometryCategory::SweptSolid),

            // Boolean/CSG
            Self::IfcBooleanResult => Some(GeometryCategory::Boolean),
            Self::IfcBooleanClippingResult => Some(GeometryCategory::Boolean),
            Self::IfcCsgSolid => Some(GeometryCategory::Boolean),
            Self::IfcCsgPrimitive3D => Some(GeometryCategory::Boolean),
            Self::IfcBlock => Some(GeometryCategory::Boolean),
            Self::IfcSphere => Some(GeometryCategory::Boolean),
            Self::IfcRightCircularCone => Some(GeometryCategory::Boolean),
            Self::IfcRightCircularCylinder => Some(GeometryCategory::Boolean),
            Self::IfcRectangularPyramid => Some(GeometryCategory::Boolean),

            // Explicit mesh
            Self::IfcFacetedBrep => Some(GeometryCategory::ExplicitMesh),
            Self::IfcFacetedBrepWithVoids => Some(GeometryCategory::ExplicitMesh),
            Self::IfcAdvancedBrep => Some(GeometryCategory::ExplicitMesh),
            Self::IfcAdvancedBrepWithVoids => Some(GeometryCategory::ExplicitMesh),
            Self::IfcManifoldSolidBrep => Some(GeometryCategory::ExplicitMesh),
            Self::IfcTriangulatedFaceSet => Some(GeometryCategory::ExplicitMesh),
            Self::IfcPolygonalFaceSet => Some(GeometryCategory::ExplicitMesh),
            Self::IfcTriangulatedIrregularNetwork => Some(GeometryCategory::ExplicitMesh),
            Self::IfcTessellatedFaceSet => Some(GeometryCategory::ExplicitMesh),
            Self::IfcIndexedPolygonalFace => Some(GeometryCategory::ExplicitMesh),
            Self::IfcShellBasedSurfaceModel => Some(GeometryCategory::ExplicitMesh),
            Self::IfcFaceBasedSurfaceModel => Some(GeometryCategory::ExplicitMesh),

            // Mapped items
            Self::IfcMappedItem => Some(GeometryCategory::MappedItem),

            // Surfaces
            Self::IfcBSplineSurface => Some(GeometryCategory::Surface),
            Self::IfcBSplineSurfaceWithKnots => Some(GeometryCategory::Surface),
            Self::IfcRationalBSplineSurfaceWithKnots => Some(GeometryCategory::Surface),
            Self::IfcCylindricalSurface => Some(GeometryCategory::Surface),
            Self::IfcSphericalSurface => Some(GeometryCategory::Surface),
            Self::IfcToroidalSurface => Some(GeometryCategory::Surface),
            Self::IfcPlane => Some(GeometryCategory::Surface),
            Self::IfcCurveBoundedPlane => Some(GeometryCategory::Surface),
            Self::IfcCurveBoundedSurface => Some(GeometryCategory::Surface),
            Self::IfcRectangularTrimmedSurface => Some(GeometryCategory::Surface),
            Self::IfcSurfaceOfLinearExtrusion => Some(GeometryCategory::Surface),
            Self::IfcSurfaceOfRevolution => Some(GeometryCategory::Surface),

            // Curves
            Self::IfcBSplineCurve => Some(GeometryCategory::Curve),
            Self::IfcBSplineCurveWithKnots => Some(GeometryCategory::Curve),
            Self::IfcRationalBSplineCurveWithKnots => Some(GeometryCategory::Curve),
            Self::IfcCompositeCurve => Some(GeometryCategory::Curve),
            Self::IfcPolyline => Some(GeometryCategory::Curve),
            Self::IfcTrimmedCurve => Some(GeometryCategory::Curve),
            Self::IfcCircle => Some(GeometryCategory::Curve),
            Self::IfcEllipse => Some(GeometryCategory::Curve),
            Self::IfcLine => Some(GeometryCategory::Curve),
            Self::IfcIndexedPolyCurve => Some(GeometryCategory::Curve),

            _ => None,
        }
    }

    /// Get profile category for this type
    pub fn profile_category(&self) -> Option<ProfileCategory> {
        match self {
            // Parametric profiles
            Self::IfcRectangleProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcRectangleHollowProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcRoundedRectangleProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcCircleProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcCircleHollowProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcEllipseProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcIShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcAsymmetricIShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcLShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcTShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcUShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcCShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcZShapeProfileDef => Some(ProfileCategory::Parametric),
            Self::IfcTrapeziumProfileDef => Some(ProfileCategory::Parametric),

            // Arbitrary profiles
            Self::IfcArbitraryClosedProfileDef => Some(ProfileCategory::Arbitrary),
            Self::IfcArbitraryProfileDefWithVoids => Some(ProfileCategory::Arbitrary),
            Self::IfcArbitraryOpenProfileDef => Some(ProfileCategory::Arbitrary),
            Self::IfcCenterLineProfileDef => Some(ProfileCategory::Arbitrary),

            // Composite profiles
            Self::IfcCompositeProfileDef => Some(ProfileCategory::Composite),
            Self::IfcDerivedProfileDef => Some(ProfileCategory::Composite),
            Self::IfcMirroredProfileDef => Some(ProfileCategory::Composite),

            _ => None,
        }
    }

    /// Check if this type is a spatial structure element
    pub fn is_spatial(&self) -> bool {
        matches!(
            self,
            Self::IfcProject
            | Self::IfcSite
            | Self::IfcBuilding
            | Self::IfcBuildingStorey
            | Self::IfcSpace
            | Self::IfcFacility
            | Self::IfcFacilityPart
        )
    }

    /// Check if this type can have geometry
    pub fn can_have_geometry(&self) -> bool {
        // Products can have geometry through representations
        self.is_product() && !self.is_spatial()
    }

    /// Check if this type is a product (can have placement/representation)
    pub fn is_product(&self) -> bool {
        // Check if it's a subtype of IfcProduct
        self.is_subtype_of(Self::IfcProduct) || *self == Self::IfcProduct
    }

    /// Check if this type is a relationship
    pub fn is_relationship(&self) -> bool {
        // Check if name starts with IfcRel
        self.name().starts_with("IfcRel")
    }

    /// Check if this is a building element
    pub fn is_building_element(&self) -> bool {
        let name = self.name();
        matches!(
            *self,
            Self::IfcWall | Self::IfcWallStandardCase | Self::IfcSlab |
            Self::IfcBeam | Self::IfcColumn | Self::IfcRoof |
            Self::IfcStair | Self::IfcRamp | Self::IfcRailing |
            Self::IfcPlate | Self::IfcMember | Self::IfcFooting |
            Self::IfcPile | Self::IfcCovering | Self::IfcCurtainWall |
            Self::IfcDoor | Self::IfcWindow | Self::IfcChimney |
            Self::IfcShadingDevice | Self::IfcBuildingElementProxy |
            Self::IfcBuildingElementPart
        ) || name.contains("Reinforc")
    }
}
